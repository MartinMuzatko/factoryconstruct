<app>
    <div onclick={addResource} each={name, resource in world.resources}>
        {resource.name} - amount: {resource.amount}
    </div>
    <div each={name, factory in world.factories}>
        <h2>{factory.name}</h2>
        <div>
            produces: {factory.gain.amount*factory.worker.length}x{factory.gain.resource.name}
            all {factory.gain.interval}s
        </div>
        <div if={factory.drain.resource}>
            requires: {factory.drain.amount*factory.worker.length}x{factory.drain.resource.name}
            all {factory.drain.interval}s
        </div>
        <br>
        Worker
        <a onclick={addWorker}>+</a>/
        <a onclick={removeWorker}>-</a>
        <span each={worker in factory.worker} class="worker"></span>
    </div>
    <script>
        import World from '../engine/world/world'

        this.world = new World(this)

        addResource(event) {
            event.item.resource.amount += 1
        }

        addWorker(event) {
            event.item.factory.addWorker()
        }

        removeWorker(event) {
            event.item.factory.removeWorker()
        }
    </script>
</app>
